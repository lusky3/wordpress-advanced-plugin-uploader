<?xml version="1.0"?>
<ruleset name="Bulk Plugin Installer">
	<description>PHPCS ruleset for Bulk Plugin Installer WordPress plugin.</description>

	<!-- Scan these files -->
	<file>includes/</file>
	<file>bulk-plugin-installer.php</file>
	<file>uninstall.php</file>

	<!-- Exclude paths -->
	<exclude-pattern>vendor/*</exclude-pattern>
	<exclude-pattern>tests/*</exclude-pattern>
	<exclude-pattern>node_modules/*</exclude-pattern>

	<!-- Only check PHP files -->
	<arg name="extensions" value="php"/>

	<!-- Show progress and use colors -->
	<arg value="ps"/>

	<!-- Use WordPress standard as base -->
	<rule ref="WordPress">
		<!--
			This project uses spaces for indentation (PSR-style).
			Disable the WordPress tabs requirement.
		-->
		<exclude name="Generic.WhiteSpace.DisallowSpaceIndent"/>

		<!--
			File naming: this project uses hyphenated class file names
			(class-bpi-admin-page.php) which is a valid WordPress convention
			with hyphens separating the prefix. Disable the strict check.
		-->
		<exclude name="WordPress.Files.FileName.InvalidClassFileName"/>
		<exclude name="WordPress.Files.FileName.NotHyphenatedLowercase"/>

		<!--
			Translation: constants used for page/menu titles are acceptable.
		-->
		<exclude name="WordPress.WP.I18n.NonSingularStringLiteralText"/>

		<!--
			Alignment: disable strict alignment rules that conflict with
			the project's existing formatting conventions.
		-->
		<exclude name="WordPress.Arrays.MultipleStatementAlignment"/>
		<exclude name="Generic.Formatting.MultipleStatementAlignment"/>

		<!--
			Security: these are flagged as warnings by default.
			The plugin handles escaping at the output boundary.
			Keep as informational but don't fail the build.
		-->
		<exclude name="WordPress.Security.EscapeOutput.OutputNotEscaped"/>

		<!--
			Direct DB calls and filesystem calls are necessary
			in the uninstall handler and log manager.
		-->
		<exclude name="WordPress.DB.DirectDatabaseQuery"/>
		<exclude name="WordPress.WP.AlternativeFunctions"/>

		<!--
			Snake case for function/method names — the project uses camelCase
			for internal methods following PSR conventions.
		-->
		<exclude name="WordPress.NamingConventions.ValidFunctionName"/>
		<exclude name="WordPress.NamingConventions.ValidVariableName.PropertyNotSnakeCase"/>
		<exclude name="WordPress.NamingConventions.ValidVariableName.VariableNotSnakeCase"/>
		<exclude name="WordPress.NamingConventions.ValidVariableName.UsedPropertyNotSnakeCase"/>

		<!--
			Nonce verification and input sanitization — the plugin verifies
			nonces and sanitizes input at the handler entry point.
		-->
		<exclude name="WordPress.Security.NonceVerification"/>
		<exclude name="WordPress.Security.ValidatedSanitizedInput"/>

		<!--
			Multi-line function call formatting — the project follows
			PSR-style formatting for function calls.
		-->
		<exclude name="PEAR.Functions.FunctionCallSignature.MultipleArguments"/>
		<exclude name="PEAR.Functions.FunctionCallSignature.ContentAfterOpenBracket"/>
		<exclude name="PEAR.Functions.FunctionCallSignature.CloseBracketLine"/>

		<!--
			Yoda conditions — the project does not use Yoda style.
		-->
		<exclude name="WordPress.PHP.YodaConditions"/>

		<!--
			Translator comments — not all placeholders need translator hints.
		-->
		<exclude name="WordPress.WP.I18n.MissingTranslatorsComment"/>
		<exclude name="WordPress.WP.I18n.UnorderedPlaceholders"/>

		<!--
			Inline comment formatting — not enforced in this project.
		-->
		<exclude name="Squiz.Commenting.InlineComment.InvalidEndChar"/>

		<!--
			Array formatting — the project uses compact array syntax.
		-->
		<exclude name="WordPress.Arrays.ArrayDeclarationSpacing"/>

		<!--
			File structure — main plugin file contains both class and function.
		-->
		<exclude name="Universal.Files.SeparateFunctionsFromOO"/>

		<!--
			PHP tag formatting — inline PHP in HTML templates is standard WordPress.
		-->
		<exclude name="Squiz.PHP.EmbeddedPhp.ContentBeforeOpen"/>
		<exclude name="Squiz.PHP.EmbeddedPhp.ContentAfterEnd"/>
		<exclude name="Squiz.PHP.EmbeddedPhp.ContentBeforeEnd"/>
		<exclude name="Squiz.PHP.EmbeddedPhp.ContentAfterOpen"/>

		<!--
			DB prepare — handled via phpcs:ignore inline where needed.
		-->
		<exclude name="WordPress.DB.PreparedSQL"/>

		<!--
			PHPDoc comment spacing — the project follows PSR-style spacing.
		-->
		<exclude name="Squiz.Commenting.FunctionComment.SpacingAfterParamType"/>
	</rule>

	<!-- Allow space indentation (PSR-style) -->
	<rule ref="Generic.WhiteSpace.DisallowTabIndent"/>

</ruleset>
